<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>وصفات الطهاة</title>
<script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore-compat.js"></script>

  <style>
    body {
      font-family: Tahoma, sans-serif;
      background-color: #fff8f0;
      padding: 2rem;
    }

    h1 {
      text-align: center;
      color: #d84315;
    }

    .recipe {
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      padding: 1rem;
      margin: 1rem 0;
      background: #ffffff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .recipe img {
      max-width: 100%;
      border-radius: 10px;
      margin-bottom: 0.5rem;
    }

    .recipe h3 {
      margin: 0.5rem 0;
      color: #bf360c;
    }

    .recipe p {
      margin: 0.5rem 0;
    }

    .support-button {
      display: inline-block;
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background-color: #ff7043;
      color: white;
      border: none;
      border-radius: 5px;
      text-decoration: none;
    }
  </style>
</head>
<body>

<h1>🍲 وصفات الطهاة</h1>

<div id="recipesContainer"></div>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBOh-hsuoYzDwOdwKAa7bMtLCy4UA3W0Qw",
    authDomain: "chef-recipes-bf324.firebaseapp.com",
    projectId: "chef-recipes-bf324",
    storageBucket: "chef-recipes-bf324.firebasestorage.app",
    messagingSenderId: "218035207846",
    appId: "1:218035207846:web:0bf2c1f2f3c4eabe433e67",
    measurementId: "G-VGDT2SK1TY"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const container = document.getElementById("recipesContainer");

  db.collection("recipes").onSnapshot((snapshot) => {
    container.innerHTML = ""; // مسح المحتوى قبل التحديث

    snapshot.forEach(doc => {
      const data = doc.data();
      const recipeDiv = document.createElement("div");
      recipeDiv.className = "recipe";

      recipeDiv.innerHTML = `
        <img src="${data.imageURL}" alt="صورة الوصفة">
        <h3>${data.title} - 👨‍🍳 ${data.chefName}</h3>
        <p>${data.description}</p>
        ${data.videoURL ? `<p>🎥 <a href="${data.videoURL}" target="_blank">مشاهدة الفيديو</a></p>` : ""}
        <a class="support-button" href="#">💖 دعم الطاهي</a>
      `;

      container.appendChild(recipeDiv);
    });
  });
</script>

</body>
</html>

